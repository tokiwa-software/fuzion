
error 1: FATAL FAULT `resources.register_usage`: Resource already closed or Resource owned by another thread.
Call stack:
fuzion.type.runtime.type.fault.type.install_default.λ.call#1: {base.fum}/fuzion/runtime/fault.fz:57:7:
      fuzion.sys.fatal_fault kind msg
------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
fuzion.runtime.fault.cause#1: {base.fum}/eff/fallible.fz:35:6:
  => h e
-----^
resources.register_usage#1: {base.fum}/Resources.fz:14:7:
      fuzion.runtime.fault.cause ("resources.register_usage",
------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                  "Resource already closed or Resource owned by another thread.")
----------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
io.file.file2.read#1: {base.fum}/io/file/open.fz:88:5:
    resources0.register_usage file2.this
----^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
resources_test.λ.call#1: --CURDIR--/resources.fz:37:20:
  say <| f2.bind (.read 1)
-------------------^^^^
(outcome io.file.file2).bind#2 (Sequence u8): {base.fum}/outcome.fz:111:27:
    outcome.this ? v T => f v
--------------------------^
resources_test: --CURDIR--/resources.fz:37:10:
  say <| f2.bind (.read 1)
---------^^^^^^^^^^^^^^^^^

*** fatal errors encountered, stopping.
one error.
